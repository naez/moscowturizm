<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Lesson 3 - Pavel Khalaimov - Hometask 3</title>
</head>
<body>

<div class="container">
  <h1>Отправить заявку</h1>
  <form id="form">
    <div class="form-group">
      <label>Имя <span class="red">*</span></label>
      <input type="text" name="name" class="form-control" value="" requered>
    </div>
    <div class="form-group">
      <label>Телефон <span class="red">*</span></label>
      <input type="text" name="phone" class="form-control" value="" placeholder="+7(000)000-0000">
    </div>
    <div class="form-group">
      <label>E-mail</label>
      <input type="text" name="email" class="form-control" value="" placeholder="mymail@mail.ru" requered>
    </div>
    <div class="form-group">
      <label>Комментарий</label>
      <textarea class="form-control" name="comment"></textarea>
    </div>
    <button class="btn" type="submit">Отправить</button>
  </form>
</div>

<script>

function Validate(field, pattern) {
  this.field = field;
  this.fieldValue = this.field.value;
  this.pattern = pattern;
  // this.error;

  // if (this.fieldValue != ''){
    if (!this.fieldValue.match(this.pattern)) {
      // this.field.value = '';
      this.field.classList.add('error');
    } else {
      this.field.classList.remove('error');
    }
  // }
}
// Validate.prototype = Object.create(Validate.prototype);
// function Success() {
//   Validate.call(this);
//   console.log(this.error);
//   // if(this.error){
//   //   console.log('YES!');
//   // }
// }


form.onsubmit = function(e) {
  e.preventDefault();
  var name = form.querySelector('[name=name]'),
      phone = form.querySelector('[name=phone]'),
      email = form.querySelector('[name=email]');
  var namePattern = /[A-Za-zА-Яа-я]/,
      phonePattern = /\+?\d(\(?|\s?)\d{3}(\)?|\s?)\d{3}\-\d{4}/,
      emailPattern = /(\w|\.|\-)*\@\w+\.\w+/;

  Validate(name, namePattern);
  Validate(phone, phonePattern);
  Validate(email, emailPattern);

};
</script>
<link rel="stylesheet" href="css/styles.css">
<link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,700,900&amp;subset=cyrillic" rel="stylesheet">
</body>
</html>
